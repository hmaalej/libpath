\hypertarget{a00015}{\section{optpath.\-c \-File \-Reference}
\label{dd/d1b/a00015}\index{optpath.\-c@{optpath.\-c}}
}
{\ttfamily \#include $<$stdlib.\-h$>$}\*
{\ttfamily \#include $<$stdio.\-h$>$}\*
{\ttfamily \#include $<$math.\-h$>$}\*
{\ttfamily \#include $<$glib.\-h$>$}\*
{\ttfamily \#include $<$sys/time.\-h$>$}\*
{\ttfamily \#include $<$unistd.\-h$>$}\*
{\ttfamily \#include \char`\"{}optpath.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}opttree.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}geos\-\_\-c.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}/usr/include/json/json.\-h\char`\"{}}\*
\-Include dependency graph for optpath.\-c\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/dfe/a00025}
\end{center}
\end{figure}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
int64\-\_\-t \hyperlink{a00015_a7a93270b029dd7f09ac421ff7a473cd9_a7a93270b029dd7f09ac421ff7a473cd9}{ts\-\_\-now} ()
\item 
void \hyperlink{a00015_abb72a9e5586947ffa14de7aea6c8d7b4_abb72a9e5586947ffa14de7aea6c8d7b4}{notice1} (const char $\ast$fmt,...)
\item 
void \hyperlink{a00015_ab369473e6f056b28d426c97004c47828_ab369473e6f056b28d426c97004c47828}{log\-\_\-and\-\_\-exit1} (const char $\ast$fmt,...)
\item 
\hyperlink{a00016_a5f269c22e6d9d32b0b0ad7e6166854df_a5f269c22e6d9d32b0b0ad7e6166854df}{location} \hyperlink{a00015_a8fccd24d5b565d686f8ffd2820bf372a_a8fccd24d5b565d686f8ffd2820bf372a}{locat\-\_\-point} (double x, double y)
\begin{DoxyCompactList}\small\item\em find the location of a given point \end{DoxyCompactList}\item 
\-G\-S\-List $\ast$ \hyperlink{a00015_a25f1e769fb021e10c7a6923f56ab4f46_a25f1e769fb021e10c7a6923f56ab4f46}{dividing\-\_\-path} (double x1, double y1, double x2, double y2, char $\ast$obstacle, \hyperlink{a00016_a5f269c22e6d9d32b0b0ad7e6166854df_a5f269c22e6d9d32b0b0ad7e6166854df}{location} loc)
\begin{DoxyCompactList}\small\item\em \-This function is used when one of the daparture or arrival point is situated in one of the complex area already defined. \end{DoxyCompactList}\item 
\-G\-S\-List $\ast$ \hyperlink{a00015_ae5f4c19ccdc3caa6ce122c0887481a16_ae5f4c19ccdc3caa6ce122c0887481a16}{final\-\_\-path} (double x\-\_\-root, double y\-\_\-root, double x\-\_\-arrival, double y\-\_\-arrival, char $\ast$obstacle)
\begin{DoxyCompactList}\small\item\em \-This function calculate the final path that could be a connexion between 2 paths, then it fill the geojson file of the trajectory. \end{DoxyCompactList}\item 
\hyperlink{a00020_a07b75293fafb6f31b7e9f723848ad105_a07b75293fafb6f31b7e9f723848ad105}{opttree\-\_\-t} $\ast$ \hyperlink{a00015_a55d37159a13f40fdb4d2bda4b8a4c599_a55d37159a13f40fdb4d2bda4b8a4c599}{create\-\_\-environnement} (double x\-\_\-root, double y\-\_\-root, double x\-\_\-arrival, double y\-\_\-arrival, char $\ast$obstacle, int k)
\begin{DoxyCompactList}\small\item\em create the work environement; actually root\-\_\-state, goal\-\_\-region, operating region(depending on departure and arrival) and obstacle list(continents) \end{DoxyCompactList}\item 
\-G\-S\-List $\ast$ \hyperlink{a00015_afbf6f731092d290f20929a518bdf00c3_afbf6f731092d290f20929a518bdf00c3}{path} (double x\-\_\-root, double y\-\_\-root, double x\-\_\-arrival, double y\-\_\-arrival, char $\ast$obstacle)
\begin{DoxyCompactList}\small\item\em \-This function calculate the shortest path between two points\-: applicate rrtstar alogorithm, then use the correcting path algorithm to affinate the result. \end{DoxyCompactList}\item 
\-G\-S\-List $\ast$ \hyperlink{a00015_ada3d9a3dfb21481abb2ba7c5afa22809_ada3d9a3dfb21481abb2ba7c5afa22809}{correcting\-\_\-path} (\hyperlink{a00020_a07b75293fafb6f31b7e9f723848ad105_a07b75293fafb6f31b7e9f723848ad105}{opttree\-\_\-t} $\ast$opttree, \-G\-S\-List $\ast$optstates\-\_\-list, int k)
\begin{DoxyCompactList}\small\item\em from a path between two points (the result of rrtstar algorithm but with minimum number of iterations), make a better one by eleminating nodes and adding others \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{\-Function \-Documentation}
\hypertarget{a00015_ada3d9a3dfb21481abb2ba7c5afa22809_ada3d9a3dfb21481abb2ba7c5afa22809}{\index{optpath.\-c@{optpath.\-c}!correcting\-\_\-path@{correcting\-\_\-path}}
\index{correcting\-\_\-path@{correcting\-\_\-path}!optpath.c@{optpath.\-c}}
\subsubsection[{correcting\-\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}\-G\-S\-List $\ast$ {\bf correcting\-\_\-path} (
\begin{DoxyParamCaption}
\item[{{\bf opttree\-\_\-t} $\ast$}]{opttree, }
\item[{\-G\-S\-List $\ast$}]{optstates\-\_\-list, }
\item[{int}]{k}
\end{DoxyParamCaption}
)}}\label{dd/d1b/a00015_ada3d9a3dfb21481abb2ba7c5afa22809_ada3d9a3dfb21481abb2ba7c5afa22809}


from a path between two points (the result of rrtstar algorithm but with minimum number of iterations), make a better one by eleminating nodes and adding others 


\begin{DoxyParams}{\-Parameters}
{\em opttree} & the opttree\-\_\-t structure already created (the environnement of working) \\
\hline
{\em optstates\-\_\-list} & the list of nodes constituting the rrtstar path \\
\hline
{\em k} & compressing factor \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
list\-\_\-ptr a \-G\-S\-List containing the states that constitute the new better path 
\end{DoxyReturn}
\hypertarget{a00015_a55d37159a13f40fdb4d2bda4b8a4c599_a55d37159a13f40fdb4d2bda4b8a4c599}{\index{optpath.\-c@{optpath.\-c}!create\-\_\-environnement@{create\-\_\-environnement}}
\index{create\-\_\-environnement@{create\-\_\-environnement}!optpath.c@{optpath.\-c}}
\subsubsection[{create\-\_\-environnement}]{\setlength{\rightskip}{0pt plus 5cm}{\bf opttree\-\_\-t} $\ast$ {\bf create\-\_\-environnement} (
\begin{DoxyParamCaption}
\item[{double}]{x\-\_\-root, }
\item[{double}]{y\-\_\-root, }
\item[{double}]{x\-\_\-arrival, }
\item[{double}]{y\-\_\-arrival, }
\item[{char $\ast$}]{obstacle, }
\item[{int}]{k}
\end{DoxyParamCaption}
)}}\label{dd/d1b/a00015_a55d37159a13f40fdb4d2bda4b8a4c599_a55d37159a13f40fdb4d2bda4b8a4c599}


create the work environement; actually root\-\_\-state, goal\-\_\-region, operating region(depending on departure and arrival) and obstacle list(continents) 


\begin{DoxyParams}{\-Parameters}
{\em x\-\_\-root} & the x-\/coordinate of the departure point \\
\hline
{\em y\-\_\-root} & the y-\/coordinate of the departure point \\
\hline
{\em x\-\_\-arrival} & the x-\/coordinate of the arrival point \\
\hline
{\em y\-\_\-arrival} & the y-\/coordinate of the arrival point \\
\hline
{\em obstacles} & the name of the obstacles file \\
\hline
{\em k} & the factor of compressing the operating region. \-In fact, if we work on all planisphere we compresse it in order to increase the number of point randomized \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
1 if the path has been found, else 0 
\end{DoxyReturn}
\hypertarget{a00015_a25f1e769fb021e10c7a6923f56ab4f46_a25f1e769fb021e10c7a6923f56ab4f46}{\index{optpath.\-c@{optpath.\-c}!dividing\-\_\-path@{dividing\-\_\-path}}
\index{dividing\-\_\-path@{dividing\-\_\-path}!optpath.c@{optpath.\-c}}
\subsubsection[{dividing\-\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}\-G\-S\-List $\ast$ {\bf dividing\-\_\-path} (
\begin{DoxyParamCaption}
\item[{double}]{x1, }
\item[{double}]{y1, }
\item[{double}]{x2, }
\item[{double}]{y2, }
\item[{char $\ast$}]{obstacle, }
\item[{{\bf location}}]{loc}
\end{DoxyParamCaption}
)}}\label{dd/d1b/a00015_a25f1e769fb021e10c7a6923f56ab4f46_a25f1e769fb021e10c7a6923f56ab4f46}


\-This function is used when one of the daparture or arrival point is situated in one of the complex area already defined. 


\begin{DoxyParams}{\-Parameters}
{\em x1} & the x-\/coordinate of the departure point \\
\hline
{\em y1} & the y-\/coordinate of the departure point \\
\hline
{\em x2} & the x-\/coordinate of the arrival point \\
\hline
{\em y2} & the y-\/coordinate of the arrival point \\
\hline
{\em obstacle} & the name of the obstacles file \\
\hline
{\em loc} & location of the unordinary point \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
list\-\_\-ptr a \-G\-S\-List containing the states that constitute the path 
\end{DoxyReturn}
\hypertarget{a00015_ae5f4c19ccdc3caa6ce122c0887481a16_ae5f4c19ccdc3caa6ce122c0887481a16}{\index{optpath.\-c@{optpath.\-c}!final\-\_\-path@{final\-\_\-path}}
\index{final\-\_\-path@{final\-\_\-path}!optpath.c@{optpath.\-c}}
\subsubsection[{final\-\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}\-G\-S\-List $\ast$ {\bf final\-\_\-path} (
\begin{DoxyParamCaption}
\item[{double}]{x\-\_\-root, }
\item[{double}]{y\-\_\-root, }
\item[{double}]{x\-\_\-arrival, }
\item[{double}]{y\-\_\-arrival, }
\item[{char $\ast$}]{obstacle}
\end{DoxyParamCaption}
)}}\label{dd/d1b/a00015_ae5f4c19ccdc3caa6ce122c0887481a16_ae5f4c19ccdc3caa6ce122c0887481a16}


\-This function calculate the final path that could be a connexion between 2 paths, then it fill the geojson file of the trajectory. 


\begin{DoxyParams}{\-Parameters}
{\em x\-\_\-root} & the x-\/coordinate of the departure point \\
\hline
{\em y\-\_\-root} & the y-\/coordinate of the departure point \\
\hline
{\em x\-\_\-arrival} & the x-\/coordinate of the arrival point \\
\hline
{\em y\-\_\-arrival} & the y-\/coordinate of the arrival point \\
\hline
{\em obstacle} & the name of the obstacles file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
l\-\_\-ptr the \-G\-S\-List containing states of the path if it has been found, else \-N\-U\-L\-L 
\end{DoxyReturn}
\hypertarget{a00015_a8fccd24d5b565d686f8ffd2820bf372a_a8fccd24d5b565d686f8ffd2820bf372a}{\index{optpath.\-c@{optpath.\-c}!locat\-\_\-point@{locat\-\_\-point}}
\index{locat\-\_\-point@{locat\-\_\-point}!optpath.c@{optpath.\-c}}
\subsubsection[{locat\-\_\-point}]{\setlength{\rightskip}{0pt plus 5cm}{\bf location} {\bf locat\-\_\-point} (
\begin{DoxyParamCaption}
\item[{double}]{x, }
\item[{double}]{y}
\end{DoxyParamCaption}
)}}\label{dd/d1b/a00015_a8fccd24d5b565d686f8ffd2820bf372a_a8fccd24d5b565d686f8ffd2820bf372a}


find the location of a given point 


\begin{DoxyParams}{\-Parameters}
{\em x} & the x-\/coordinate of the point \\
\hline
{\em y} & the y-\/coordinate of the point \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
loc the location if the point is in a particular area, else \-O\-R\-D\-I\-N\-A\-R\-Y 
\end{DoxyReturn}
\hypertarget{a00015_ab369473e6f056b28d426c97004c47828_ab369473e6f056b28d426c97004c47828}{\index{optpath.\-c@{optpath.\-c}!log\-\_\-and\-\_\-exit1@{log\-\_\-and\-\_\-exit1}}
\index{log\-\_\-and\-\_\-exit1@{log\-\_\-and\-\_\-exit1}!optpath.c@{optpath.\-c}}
\subsubsection[{log\-\_\-and\-\_\-exit1}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf log\-\_\-and\-\_\-exit1} (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{fmt, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{dd/d1b/a00015_ab369473e6f056b28d426c97004c47828_ab369473e6f056b28d426c97004c47828}
\hypertarget{a00015_abb72a9e5586947ffa14de7aea6c8d7b4_abb72a9e5586947ffa14de7aea6c8d7b4}{\index{optpath.\-c@{optpath.\-c}!notice1@{notice1}}
\index{notice1@{notice1}!optpath.c@{optpath.\-c}}
\subsubsection[{notice1}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf notice1} (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{fmt, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{dd/d1b/a00015_abb72a9e5586947ffa14de7aea6c8d7b4_abb72a9e5586947ffa14de7aea6c8d7b4}
\hypertarget{a00015_afbf6f731092d290f20929a518bdf00c3_afbf6f731092d290f20929a518bdf00c3}{\index{optpath.\-c@{optpath.\-c}!path@{path}}
\index{path@{path}!optpath.c@{optpath.\-c}}
\subsubsection[{path}]{\setlength{\rightskip}{0pt plus 5cm}\-G\-S\-List $\ast$ {\bf path} (
\begin{DoxyParamCaption}
\item[{double}]{x\-\_\-root, }
\item[{double}]{y\-\_\-root, }
\item[{double}]{x\-\_\-arrival, }
\item[{double}]{y\-\_\-arrival, }
\item[{char $\ast$}]{obstacle}
\end{DoxyParamCaption}
)}}\label{dd/d1b/a00015_afbf6f731092d290f20929a518bdf00c3_afbf6f731092d290f20929a518bdf00c3}


\-This function calculate the shortest path between two points\-: applicate rrtstar alogorithm, then use the correcting path algorithm to affinate the result. 


\begin{DoxyParams}{\-Parameters}
{\em x\-\_\-root} & the x-\/coordinate of the departure point \\
\hline
{\em y\-\_\-root} & the y-\/coordinate of the departure point \\
\hline
{\em x\-\_\-arrival} & the x-\/coordinate of the arrival point \\
\hline
{\em y\-\_\-arrival} & the y-\/coordinate of the arrival point \\
\hline
{\em obstacles} & the name of the obstacles file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
list\-\_\-ptr a \-G\-S\-List containing the states that constitute the path 
\end{DoxyReturn}
\hypertarget{a00015_a7a93270b029dd7f09ac421ff7a473cd9_a7a93270b029dd7f09ac421ff7a473cd9}{\index{optpath.\-c@{optpath.\-c}!ts\-\_\-now@{ts\-\_\-now}}
\index{ts\-\_\-now@{ts\-\_\-now}!optpath.c@{optpath.\-c}}
\subsubsection[{ts\-\_\-now}]{\setlength{\rightskip}{0pt plus 5cm}int64\-\_\-t {\bf ts\-\_\-now} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{dd/d1b/a00015_a7a93270b029dd7f09ac421ff7a473cd9_a7a93270b029dd7f09ac421ff7a473cd9}
